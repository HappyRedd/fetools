<!DOCTYPE html>
<html>
<head>
    <title>canvas demo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
        body{background-color:#ffffff;margin:0;padding:0;
            -webkit-touch-callout :none; -webkit-user-select: none;

            overflow: hidden;
            position: relative;
        }
    </style>

</head>
<body>
<canvas id="canvas"></canvas>
<script >
    var mtX;
    var mtY;
    var tap= 'ontouchend' in window ? 'touchend' : 'click';
    window.onload = function(){

        //获取视口宽度：window.innerWidth/Height
        var vWidth = window.innerWidth;
        var vHeight = window.innerHeight;
        //获取canvas id
        var canvas = document.getElementById("canvas");
        //对canvas默认大小重置
        canvas.width =vWidth;
        canvas.height = vHeight;
        //get Context
        var ctx = canvas.getContext("2d");
        //rect view by RGBA
        ctx.save();
        ctx.fillStyle = "rgba(0, 0, 200, 0.5)";
        ctx.fillRect (0, 0, vWidth, vHeight);
        ctx.restore();

        setInterval(function(){
            setCountTime(ctx,'2017/5/3 17:20:58',vWidth,vHeight);
        },60);

    };
    function setCountTime(ctx,time,w,h){
        var overTime= new Date(time);
        var goTime= new Date();
        var distanceTime = overTime.getTime()-goTime.getTime();

        if(distanceTime>=0){
            var day = Math.floor(distanceTime/1000/60/60/24);
            var hour= Math.floor(distanceTime/1000/60/60%24);
            var minute = Math.floor(distanceTime/1000/60%60);
            if(minute<10){
                minute='0'+minute;
            }
            var second = Math.floor(distanceTime/1000%60);
            if(second<10){
                second='0'+second;
            }
        }
       // var shouTime = day+":"+hour+":"+minute+":"+second;
        var shouTime =minute+":"+second;
        ctx.clearRect(0, 0, w, h);
        ctx.fillStyle = "rgba(0, 0, 200, 0.5)";
        ctx.fillRect (0, 0, w, h);
        ctx.save();
        ctx.font="40px Arial";
        ctx.fillText(shouTime ,w/3,w/9);
        ctx.restore();
    }

</script>
<script src="js/mt.js"></script>
<script src="js/font.js"></script>
</body>
</html>
